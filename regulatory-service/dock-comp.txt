mysqldb:
  image: mysql:latest
  #image: mysql:8.0
  # Use root/example as user/password credentials
  # NOTE: use of "mysql_native_password" is not recommended: https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password
  # (this is just an example, not intended to be a production configuration)
  command: --default-authentication-plugin=mysql_native_password
  restart: always
  ports:
   - "3306:3306"
  environment:
    MYSQL_ROOT_PASSWORD: root
    MYSQL_DATABASE: spring_security
    MYSQL_USER: practice
    MYSQL_PASSWORD: practice    
    lower_case_table_names: 1
 adminer:
  image: adminer
  restart: always
  ports:
   - "8084:8084"

   
   
 security:
  image: jasdhali/cust-commerce-jwt-security:1.0.0
  ports:
   - "8082:8082"
  links:
   - registration
  environment:
   - JAVA_OPTS=
     -DEUREKA_URI=http://registration:8761/eureka     
     #- spring.datasource.url=jdbc:mysql://mysqldb:3306/spring_security
     #- spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
  depends_on:
   #- mysqldb
   - registration

 onboarding:
  image: jasdhali/cust-commerce-user-onboarding:1.0.0
  ports:
   - "8083:8083"
  links:
   - registration
  environment:
   - JAVA_OPTS=
     -DEUREKA_URI=http://registration:8761/eureka
  depends_on:   
   - registration   
   

  
   
   